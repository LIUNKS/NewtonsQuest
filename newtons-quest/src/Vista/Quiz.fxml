<?xml version="1.0" encoding="UTF-8"?>

<!--
    Quiz.fxml - Interfaz del sistema de quiz
    
    Esta vista presenta preguntas de opción múltiple sobre conceptos de física.
    Incluye navegación entre preguntas, temporizador, barra de progreso, sistema
    de pistas y validación de respuestas. Diseño responsivo con scroll.

    Controlador: Controlador.QuizController
    Autor: Johann
-->

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ProgressBar?>
<?import javafx.scene.control.RadioButton?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Priority?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.geometry.Insets?>

<?import java.net.URL?>

<AnchorPane fx:id="quizBackground" prefHeight="700.0" prefWidth="900.0" styleClass="quiz-background" xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1" fx:controller="Controlador.QuizController">
    <stylesheets>
        <URL value="@resources/quiz.css" />
    </stylesheets>
   <children>
      <!-- Botón para volver al mapa - Posición fija -->
      <Button fx:id="btnVolver" layoutX="20.0" layoutY="20.0" mnemonicParsing="false" onAction="#onVolverButtonClick" prefHeight="50.0" prefWidth="50.0" style="-fx-background-color: #e74c3c; -fx-background-radius: 25; -fx-border-radius: 25; -fx-border-color: #c0392b; -fx-border-width: 2; -fx-cursor: hand;" text="←" textFill="WHITE" AnchorPane.leftAnchor="20.0" AnchorPane.topAnchor="20.0">
         <font>
            <Font name="System Bold" size="18.0" />
         </font>
      </Button>
      
      <!-- Contenedor principal con scroll -->
      <ScrollPane fx:id="quizScrollPane" fitToWidth="true" fitToHeight="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED" 
                  AnchorPane.topAnchor="0.0" AnchorPane.bottomAnchor="0.0" 
                  AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0"
                  styleClass="quiz-scroll" style="-fx-background-color: transparent;">
         <content>
            <VBox spacing="15.0" style="-fx-background-color: transparent;" prefHeight="650.0">
               <padding>
                  <Insets top="80.0" bottom="40.0" left="30.0" right="30.0" />
               </padding>
               
               <!-- Título del Quiz -->
               <HBox alignment="CENTER" style="-fx-padding: 0 0 10 0;">
                  <children>
                     <Label fx:id="lblTitulo" text="Quiz de Física" textFill="#ffffff" style="-fx-effect: dropshadow(gaussian, rgba(0,0,0,0.5), 10, 0, 0, 2);">
                        <font>
                           <Font name="System Bold" size="32.0" />
                        </font>
                     </Label>
                  </children>
               </HBox>
               
               <!-- Información del progreso y puntuación -->
               <HBox spacing="15.0" style="-fx-background-color: rgba(255, 255, 255, 0.1); -fx-background-radius: 10; -fx-padding: 10;">
                  <children>
                     <!-- Progreso izquierda -->
                     <VBox spacing="5.0" HBox.hgrow="ALWAYS">
                        <children>
                           <Label fx:id="lblProgreso" text="Pregunta 1 de 15" textFill="#ffffff">
                              <font>
                                 <Font name="System Bold" size="16.0" />
                              </font>
                           </Label>
                           <ProgressBar fx:id="progressBar" prefWidth="200.0" maxWidth="Infinity" progress="0.0" styleClass="quiz-progress" style="-fx-accent: #4CAF50;" />
                           <Label fx:id="lblTiempo" text="Tiempo: 00:00" textFill="#ffffff">
                              <font>
                                 <Font size="14.0" />
                              </font>
                           </Label>
                        </children>
                     </VBox>
                     
                     <!-- Espaciador -->
                     <Region HBox.hgrow="ALWAYS" />
                     
                     <!-- Puntuación derecha -->
                     <VBox spacing="5.0" alignment="TOP_RIGHT">
                        <children>
                           <Label fx:id="lblPuntuacion" text="Correctas: 0" textFill="#ffffff">
                              <font>
                                 <Font name="System Bold" size="16.0" />
                              </font>
                           </Label>
                           <Label fx:id="lblIncorrectas" text="Incorrectas: 0" textFill="#ffffff">
                              <font>
                                 <Font size="14.0" />
                              </font>
                           </Label>
                        </children>
                     </VBox>
                  </children>
               </HBox>
               
               <!-- Área de la pregunta y opciones -->
               <VBox spacing="10.0" style="-fx-background-color: rgba(255, 255, 255, 0.1); -fx-background-radius: 15; -fx-padding: 15;">
                  <children>
                     <!-- Pregunta -->
                     <Label fx:id="lblPregunta" text="¿Cuál es la respuesta correcta?" textFill="#ffffff" wrapText="true" maxWidth="Infinity">
                        <font>
                           <Font name="System Bold" size="16.0" />
                        </font>
                     </Label>
                     
                     <!-- Opciones de respuesta -->
                     <VBox fx:id="vboxOpciones" spacing="8.0" maxWidth="Infinity">
                        <children>
                           <RadioButton fx:id="rbOpcionA" mnemonicParsing="false" text="Opción A" textFill="#ffffff" styleClass="quiz-option" maxWidth="Infinity" wrapText="true">
                              <font>
                                 <Font size="15.0" />
                              </font>
                              <toggleGroup>
                                 <ToggleGroup fx:id="toggleGroup" />
                              </toggleGroup>
                           </RadioButton>
                           <RadioButton fx:id="rbOpcionB" mnemonicParsing="false" text="Opción B" textFill="#ffffff" toggleGroup="$toggleGroup" styleClass="quiz-option" maxWidth="Infinity" wrapText="true">
                              <font>
                                 <Font size="15.0" />
                              </font>
                           </RadioButton>
                           <RadioButton fx:id="rbOpcionC" mnemonicParsing="false" text="Opción C" textFill="#ffffff" toggleGroup="$toggleGroup" styleClass="quiz-option" maxWidth="Infinity" wrapText="true">
                              <font>
                                 <Font size="15.0" />
                              </font>
                           </RadioButton>
                           <RadioButton fx:id="rbOpcionD" mnemonicParsing="false" text="Opción D" textFill="#ffffff" toggleGroup="$toggleGroup" styleClass="quiz-option" maxWidth="Infinity" wrapText="true">
                              <font>
                                 <Font size="15.0" />
                              </font>
                           </RadioButton>
                        </children>
                     </VBox>
                  </children>
               </VBox>
               
               <!-- Área de pista -->
               <VBox fx:id="vboxPista" spacing="8.0" visible="false" style="-fx-background-color: rgba(255,235,59,0.2); -fx-background-radius: 10; -fx-padding: 15;" maxWidth="Infinity">
                  <children>
                     <Label text="💡 Pista:" textFill="#ffeb3b">
                        <font>
                           <Font name="System Bold" size="15.0" />
                        </font>
                     </Label>
                     <Label fx:id="lblPista" text="Aquí aparecerá la pista" textFill="#ffeb3b" wrapText="true" maxWidth="Infinity">
                        <font>
                           <Font size="14.0" />
                        </font>
                     </Label>
                  </children>
               </VBox>
               
               <!-- Área de explicación -->
               <VBox fx:id="vboxExplicacion" spacing="8.0" visible="false" style="-fx-background-color: rgba(76,175,80,0.2); -fx-background-radius: 10; -fx-padding: 15;" maxWidth="Infinity">
                  <children>
                     <Label text="✅ Explicación:" textFill="#4caf50">
                        <font>
                           <Font name="System Bold" size="15.0" />
                        </font>
                     </Label>
                     <Label fx:id="lblExplicacion" text="Aquí aparecerá la explicación" textFill="#4caf50" wrapText="true" maxWidth="Infinity">
                        <font>
                           <Font size="14.0" />
                        </font>
                     </Label>
                  </children>
               </VBox>
               
               <!-- Botones de acción -->
               <HBox alignment="CENTER" spacing="20.0" style="-fx-padding: 20 0 30 0; -fx-background-color: rgba(255, 255, 255, 0.1); -fx-background-radius: 15;">
                  <children>
                     <Button fx:id="btnPista" mnemonicParsing="false" onAction="#onPistaButtonClick" prefHeight="50.0" prefWidth="180.0" text="💡 Ver Pista" style="-fx-background-color: #ff9800; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 25; -fx-border-radius: 25; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 5, 0, 0, 2); -fx-cursor: hand;">
                        <font>
                           <Font name="System Bold" size="14.0" />
                        </font>
                     </Button>
                     <Button fx:id="btnResponder" mnemonicParsing="false" onAction="#onResponderButtonClick" prefHeight="50.0" prefWidth="180.0" text="Responder" style="-fx-background-color: #4caf50; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 25; -fx-border-radius: 25; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 5, 0, 0, 2); -fx-cursor: hand;">
                        <font>
                           <Font name="System Bold" size="14.0" />
                        </font>
                     </Button>
                  </children>
               </HBox>
               
            </VBox>
         </content>
      </ScrollPane>
   </children>
</AnchorPane>
